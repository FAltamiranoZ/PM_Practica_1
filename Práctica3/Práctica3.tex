\documentclass[conference]{IEEEtran}
\IEEEoverridecommandlockouts
% The preceding line is only needed to identify funding in the first footnote. If that is unneeded, please comment it out.
\usepackage{cite}
\usepackage{amsmath,amssymb,amsfonts}
\usepackage{algorithmic}
\usepackage{graphicx}
\usepackage{textcomp}
\usepackage{xcolor}
\def\BibTeX{{\rm B\kern-.05em{\sc i\kern-.025em b}\kern-.08em
    T\kern-.1667em\lower.7ex\hbox{E}\kern-.125emX}}
\begin{document}

\title{PrÃ¡ctica 3 - Protocolos de comunicaciÃ³n}

\author{\IEEEauthorblockN{106692 Jorge Eduardo Acosta Valle}
\IEEEauthorblockA{\textit{ITAM} \\
\textit{Equipo F}\\
CDMX, MÃ©xico \\
jorge.acosta@itam.mx}
\and
\IEEEauthorblockN{163314 JosÃ© Francisco ALtamirano Zevallos}
\IEEEauthorblockA{\textit{ITAM} \\
\textit{Equipo F}\\
CDMX, MÃ©xico \\
francisco.altamiranozevallos@gmail.com}
}

\maketitle


\section{IntroducciÃ³n}
\par La comunicaciÃ³n serial es el proceso de mandar informaciÃ³n de bit en bit mediante un canal de comunicaciÃ³n, este canal puede ser establecido de manera inalÃ¡mbrica por radiofrecuencia; o alÃ¡mbrica, por un bus.\\

\par Es importante no confundirlo con la comunicaciÃ³n paralela, donde se mandan mÃºltiples bits a la vez; ademÃ¡s, por ese Ãºnico canal utilizado, se puede mandar informaciÃ³n mÃ¡s rÃ¡pidamente que por cualquier canal paralelo.\\

\par La comunicaciÃ³n serial se suele utilizar en aplicaciones donde hay mucha distancia entre los participantes, por lo que tener mÃºltiples lÃ­neas de comunicaciÃ³n alamabradas es imprÃ¡ctico y hay demasiada interferencia para utilizar comunicaciÃ³n inalÃ¡mbrica de manera fiable.\\

\par De la misma manera, si se busca una comunicaciÃ³n sÃ­ncrona, se suele preferir una comunicaciÃ³n serial, debido a que se pueden evitar los problemas de sincronizaciÃ³n (reloj sesgado o diferentes oscilaciones) de los diferentes buses de la comunicaciÃ³n paralela.\\

\par Algunos ejemplos de arquitecturas que utilizan esto son:
\begin{itemize}
    \item ARINC 818
    \item ATARI SIO
    \item CAN
    \item ccTalk
    \item CoaXPress
    \item IIC
    \item MIDI
    \item PCI
    \item RS-232, RS-422, RS-423, RS-485
    \item SDI-12
    \item SPI
    \item ATA
    \item Ethernet 
    
\end{itemize}

\section{Marco teÃ³rico}
\textbf{IIC}\\
\par $I^2C$ O IIC, es la abreviaciÃ³n de Inter-Integrated Circuit, es una arquitectura que tiene como objetivo ser sincrona, con mÃºltiples clientes y maestros, trabajar con paqeuetes y ser serial. Fue inventada en 1982 por la compaÃ±Ã­a Philips Semiconductor\\
\par Se suele utilizar a corta distancia para comunicar perifÃ©ricos de baja velocidad a microprocesadores, esto se debe a que IIC tiene un costo de fabricaciÃ³n muy bajo y una simplicidad muy grande para su manufacturaciÃ³n.\\
\par Por Ãºltimo, la ventaja principal que tiene frente a todos los demÃ¡s es la capacidad de controlar toda una red de chips con solamente 2 pines I/O de propÃ³sito general y el software.\\

\textbf{SPI}\\
\par SPI es la abreviaciÃ³n de Serial Peripheral Interface, es una arquitectura que tiene como objetivo facilitar la comunicaciÃ³n entre sistemas embebidos a corta distancia. Fue inventado en 1980 por Motorola.\\
\par Para poder cumplir su propÃ³sito, SPI implementa comunicaciÃ³n de tipo full-duple con una arquitectura maestro esclavo, donde hay un solo maestro y mÃºltiples esclavos; siendo que cada esclavo es seleccionado por un slave select (SS), tambiÃ©n llamado chip select (CS)\\

\textbf{AcelerÃ³metros}\\
\par Un acelerÃ³metro es un dispositivo utilizado para medir la aceleraciÃ³n sufrida por el objeto al que esta integrado, siendo que mide esto mediante el cambio de velocidad entre el reposo y la velocidad actual.\\
\par Se suelen utilizar en mÃºltiples aplicaciones, como tabletas, cÃ¡maras digitales, aviones, drones, medidores fÃ­sicos, gradiÃ³metros, etc.\\
\par El acelerÃ³metro puede tener diferentes arquitecuras; es decir, puede ser que mida un solo eje de aceleraciÃ³n, o varios; puede ser que mida magnitudes o solamente indique que hubo un desplazamiento; puede estar preparado para contrarrestar interferencias como vibraciones, o choques o que no lo esten.\\

\textbf{DIGI - XBEE}\\
\par XBEE es un mÃ³dulo de radio que estÃ¡ pensado para integrarse con la tarjeta madre y tiene como objetivo comunicarse mediantes ondas de radio siguiendo el estÃ¡ndar establecido por la IEEE 802.15.4. Esto surge en el 2005 con 2 modelos, el Xbee normal, con una potencia de 1mw, y el XBEE PRO, con una potencia de 100mw\\
\par Las ventajas que tienen sobre otros emisores de onda son que cuentan con control de flujo, utilizan 3.3V para funcionar y tienen lÃ­neas indicadores, de conversiÃ³n anaÃ¡logo a digital y de Input, Output integradas.\\
\par Existen 3 arquitecturas disponibles actualmente, las cuales son Through hole, Surface mount (SMT) y Micro mount (MMT), siendo que todos cuentan con 20 pines.\\



\section{Desarrollo}
El desarrollo de la siguiente prÃ¡ctica se divide en 3 partes: comunicaciÃ³n I2C, acelerÃ³metro y comunicaciÃ³n inalÃ¡mbrica. Para la siguiente practica se colaborÃ³ con otro equipo para poder realizar la comunicaciÃ³n entre 2 arduinos.

\begin{enumerate}
    \item ComunicaciÃ³n con protocolo I2C
    \par Para comenzar esta secciÃ³n colaboramos con otro equipo para poder ininciar la comunicaciÃ³n utilizando el protocolo I2C en el Arduina A y B.
    \par Para esta secciÃ³n nos basamos en el siguiente drama:
    
    \begin{figure}[htbp]
\includegraphics[width=0.45\textwidth]{PrÃ¡cticas/PrÃ¡ctica3/I2C.jpeg}
\caption{Diagrama de conexiÃ³n Arduino A y Arduino B}
\label{fig}
\end{figure}
    
    \par Es muy importante mencionar que existe el rol de maestro y esclavo y se define al Arduino A como el maestro y al Arduino B como el esclavo. Como se menciona anteriormente utilizamos el protocolo I2C en puertos establecidos del Arduino Mega para poder habilitar el canal de comunicaciÃ³n entre arduinos y de esta manera enviar la comunicaciÃ³n de los botones para poder manipular el motor basandonos en la siguiente tabla de acciones:
    \\

    \begin{center}
    \includegraphics[width=0.28\textwidth]{PrÃ¡cticas/PrÃ¡ctica3/accionesmotor.jpeg}
    \caption{Diagrama Acciones}
    \label{fig}
    \end{center}\\
    
    \par En una protoboard configuramos 2 botones  para poder manipular y configurar el maestro y el esclaavo. De igual manera se cableo el puente H que va conectado al motor. A continuaciÃ³n se muestra un diagrama del cableado:\\\\
    
    \begin{center}
    \includegraphics[width=0.30\textwidth]{PrÃ¡cticas/PrÃ¡ctica3/practica3cabl.jpeg}\\
    \caption{Cableado}
    \label{fig}
    \end{center}  \\
    
    
    \item Acelerometro\\
    \par En esta secciÃ³n vamos a aprender a utilizar un acelerometro y a integrarlo al circuito que ya tenemos armado.
    \par 
    \par El objetivo inicial es hacer que el acelerÃ³metro recibira la posiciÃ³n angular en la que se encuentra  y transmitirla al Arduinno para poder ver los resultdos en el monitor serial.  El segundo punto va a ser implementar un acelerometro con el circuito del motor creado previamente.\\
    La conexiÃ³n fue sencilla, se requiere utilizar los puertos GND y 5V,a continuaciÃ³n se conecta el pin SDA y SCL con los pines correspondientes del sensor.\\


    \item ComunicaciÃ³n inalÃ¡mbrica\\
    
    \par En esta secciÃ³n vamos a aprender a realizar la comunicaciÃ³n entre antenas de XBEE por medio del software XCTU. El objetivo es poder realizar comunicaciÃ³n inalÃ¡mbrica entre los dos Arduinos (A,B). Al realizar la comunicaciÃ³n entre los dos modulos de igual manera debemos especificar un esclavo y un master y por medio del software definir cada antena, la segunda secciÃ³n de esta practica consiste en integrar el circuito de la secciÃ³n pasada pero por medio de comunicaciÃ³n inalÃ¡mbrica. 
\end{enumerate}

\section{Resultados}\\\\

\par La prÃ¡ctica fue mucho de nuestro agrado por que nos permitiÃ³ juntarnos con otros equipos y tener distintos puntos de vista y en conjunto encontrar los siguientes resultados.\\

\begin{itemize}
    \item En la primera parte tuvimos la oportunidad de conocer el protocolo i2c. Fue muy agradable armar el circuito y ver como el motor funcionaba con el tacto de los botones. El puente H se realizÃ³ con un circuito integrado para el funcionamiento del motor. La comunicaciÃ³n entre Arduinos fue satisfactoria, no se realizÃ³ el punto f ya que el protocolo ya no es utilizado mucho en la actualidad.\\
    \item La segunda parte de esta prÃ¡ctica fue un poco complicado entender la lÃ³gica del acelerometro y como integrar este a lo ya armado sin conocimientos previos de las librerias y de manejo.
    Se logra obtener los datos recibidos de la posiciÃ³n del acelerometro y ver como se comporta en la consola. Se anexa cÃ³digo en repositorio. Se logrÃ³ observar la velocidad cambiante  dependiendo de la posiciÃ³n angular del acelerÃ³metro mediante la conexiÃ³n I2C.\\ DespuÃ©s de realizar varias pruebas poniendo prints y simular un debugeo y entender las librerias en el codigo pudimos integrar el acelerometro al circuito de la secciÃ³n pasada. Al momento de mover el acelerometro se va determinado como se va a comportar el motor lo cual fue bastante interesante de observar. A continuaciÃ³n mostramos el circuito implementado en el circuito que maneja el motor.\\
    
    \begin{center}
    \includegraphics[width=0.35\textwidth]{PrÃ¡cticas/PrÃ¡ctica3/prac3result.png}
    \caption{ImplementaciÃ³n Acelerometro}
    \label{fig}
    \end{center}\\

    \item En la Ãºltima parte de la prÃ¡ctica tuvimos que familiarizarnos con el software y el hardware de las antenas a comunicar entre Arduinos. Se utilizÃ³ la plataforma XCTU en donde se configuran el receptor y el transmisor. En esta secciÃ³n tuvimos que determinar y configurar las antenas previamente antes de realizar cualquier operaciÃ³n sobre ellas. El profesor nos comentÃ³ que en algunas ocasiones las antenas tiene guardado informaciÃ³n y tienen memoria por lo que al incluirlas en el software hay que borrar todo el contenido configurarlo correctamente antes de integrarlo a cualquier proyecto.\\
    
    \begin{center}
    \includegraphics[width=0.35\textwidth]{PrÃ¡cticas/PrÃ¡ctica3/xbee.jpeg}\\
    \caption{Parametros XCTU}
    \label{fig}
    \end{center}\\\\
    
    El profesor nos menciona que esto es algo comÃºn y hay que realizar muchas pruebas pero finalmente pudimos ver las antenas en el software . Otro detalle sobresaliente y que nos costÃ³ problemas en la prÃ¡ctica fue configurar estas antenas ya que en ocasiones funcionaba y en otras no. Finalmente logramos que la conexiÃ³n entre antenas fuera correcto pero ya nos dio tiempo y contamos con muchos problemas para integrarlo al circuito previo. 

\end{itemize}


\section{Conclusiones}

\par Esta prÃ¡ctica nos sirviÃ³ mucho para entender diferentes protocolos de comunicaciÃ³n. El tema nos hizo comprender lo importante que es entender de donde provienen y la historia sobre veteranos protocolos de comunicaciÃ³n que incluso algunos estan todavÃ­a en uso en la actualidad. Tuvimos unas complicaciones con base en el material ya que no contamos con suficienntes acelerometros y esto nos comiÃ³ tiempo importante. Consideramos que la interacciÃ³n entre equipos fue bastante importante y crucial en esta prÃ¡ctica ya que pudimos decifrar entre todos las libreriasa y lenguajes de cada protocolo. Fue maravilloso ver como las comunincaciones son una parte importante en nuestra sociedad y verlo a esta escala fue bastante importante. 




\begin{thebibliography}{00}
\begin{itemize}
\item https://www.luisllamas.es/arduino-i2c/
\item https://www.digi.com/resources/documentation/digidocs/PDFs/90001458-13.pdf
\item https://programarfacil.com/blog/arduino-blog/conectar-dos-arduinos-i2c/
\item XBee.cl - ComunicaciÂ´on InalÂ´ambrica para Tus Proyectos. 2020.
Â¿QuÂ´e Es Xbee? Xbee.Cl - ComunicaciÂ´on InalÂ´ambrica Para Tus
Proyectos. [online] Available at: Â¡https://xbee.cl/que-es-xbee/Â¿ [Accessed
13 March 2020].

\item Matic, A., Osmani, V. and Mayora, O., 2012.
Speech Activity Detection Using Accelerometer.
[online] Venetosmani.com. Available at:
Â¡https://venetosmani.com/publications/SpeechActivityDetectionUsingAccelerometerIEEEEMBC2012:pdf >

\item NationalInstruments:[online]Availableat :< https :
==knowledge:ni:com=KnowledgeArticleDetails?id =
kA00Z0000019MgLSAU > [Accessed13March2020]:
 Irazabal, J. and Blozis, S., 2003. AN10216-01 I 2 C MANUAL.
[online] Nxp.com. Available at: Â¡https://www.nxp.com/docs/en/applicationnote/
AN10216.pdfÂ¿ [Accessed 13 March 2020].

\end{itemize}

\end{thebibliography}

\end{document}
